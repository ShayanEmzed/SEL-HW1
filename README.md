# آزمایشگاه مهندسی نرم‌افزار - تمرین اول - گیت

## بخش عملی

### توضیح پروژه
ایجادکننده گذرواژه (Password Generator)

### مراحل انجام پروژه
- طبق دستورالعمل آزمایش، ابتدا مخزن آزمایش را ساخته و خود گیت برای ما initial commit را انجام می‌دهد.
- فایل .gitignore را با کمک [این سایت](https://www.toptal.com/developers/gitignore) برای ایگنور کردن فایل‌های غیرضروری سیستم‌عامل (مثل .DS_Store) و پایتون اضافه می‌کنیم.
- در هر مرحله، با استفاده از دو کامند زیر تغییرات را کامیت می‌کنیم:
```
git add file
git commit -m "message"
```
- ابتدا چندین کامیت معنادار مرتبط با لیست آلفابتی که کاراکترهای گذرواژه از آن گرفته می‌شود ایجاد می‌کنیم.
- سپس برای اضافه کردن قابلیت، برنچ feature/variable-length را با دستور زیر اضافه می‌کنیم که در آن قابلیت گرفتن ورودی طول پسورد از کاربر طراحی می‌شود:
```
git checkout -b feature/variable-length
```
- پس از اعمال تغییرات در شاخه مدنظر، با دستور زیر شاخه و کامیت‌ها را به مخزن ریموت اضافه می‌کنیم:
```
git push --set-upstream origin feature/variable-length
```
- هر دو کانفلیکت ایجاد شده در هنگام ادغام دو شاخه خواهند بود. برای مثال در هنگام ادغام شاخه feature/variable-length با شاخه main با conflict مواجه می‌شویم که باید آن را برطرف کنیم تا بتوان ادغام را انجام داد.
- ایجاد pull request: از طریق رابط کاربری خود Github، در تب سوم، گزینه pull requests مشاهده می‌شود. در اینجا می‌توان با انتخاب شاخه source و شاخه target که در مثال ما به ترتیب feature/variable-length و main می‌باشند، pull request مدنظر را ایجاد کرد.
<img width="1239" alt="Pasted Graphic" src="https://github.com/ShayanEmzed/SEL-HW1/assets/60621655/482cef16-43aa-4176-bea6-174d9c4bd1c7">

- همانطور که در تصویر بالا مشاهده می‌شود، امکان ادغام اتوماتیک توسط گیت وجود ندارد چرا که کانفلیکت داریم.
- برای برطرف کردن کانفلیکت، به قسمت pull request مد نظر رفته و در قسمت resolve conflicts که در تصویر پایین مشاهده می‌شود، پس از رفع کانفلیکت آن را مارک می‌کنیم و گیت به ما اجازه ادغام برنچ‌ها را خواهد داد.
<img width="1042" alt="Pasted Graphic 1" src="https://github.com/ShayanEmzed/SEL-HW1/assets/60621655/41dd46e6-42e7-4eba-abb5-7aa8d2ff910c">

- پس از رفع conflict خواهیم داشت:
<img width="930" alt="Pasted Graphic 2" src="https://github.com/ShayanEmzed/SEL-HW1/assets/60621655/c670f619-ecf7-4a82-8f43-3535ce2ecc2c">

- لازم به ذکر است شاخه ایجاد شده برای اضافه کردن یک قابلیت شکل گرفته پس نام‌گذاری feature مناسب است.
- در مرحله بعد، شاخه hotfix/punctuation ایجاد شده است. این شاخه برای برطرف کردن یک باگ (بیشتر بودن بازه محدود کردن تعداد کاراکترهای خاص مثل علامت سوال و پرانتز از از تعداد این کاراکترها) تشکیل شد. conflict دوم نیز در هنگام ادغام این شاخه با شاخه اصلی مشاهده می‌شود.
- تمامی مراحل ذکر شده برای برنچ فیچر، برای همین برنچ نیز تکرار شده است (pull request و کانفلیکت و برطرف کردن آن).
- با توجه به گزارش کار، باید شاخه main را محافظت کنیم. برای این کار، به ترتیب مراحل setting -> branches -> add rule را انجام داده و گزینه require a pull request merging را تیک می‌زنیم. لازم به ذکر است محافظت‌های دیگری از جمله تعداد بررسی‌های درخواست قبل از ادغام و الزام بررسی صاحبان مخزن و غیره نیز وجود دارد اما در حال حاضر خواسته ما تنها عدم ادغام مستقیم روی شاخه اصلی است.
<img width="865" alt="image" src="https://github.com/ShayanEmzed/SEL-HW1/assets/60621655/fda1fab7-7a18-42a9-bc93-a5488f346105">

### خروجی
در تصویر زیر مشاهده می‌شود که با ورودی دادن یک عدد، یک رمز به تعداد کاراکتر ورودی به همراه جزئیات ایجاد می‌شود:

<img width="281" alt="image" src="https://github.com/ShayanEmzed/SEL-HW1/assets/60621655/cc49efa8-68fc-4029-a5ac-9790d6d0a21c">


## بخش تئوری
۱. پوشه‌ی .git چیست؟ چه اطلاعاتی در آن ذخیره می‌شود؟ با چه دستوری ساخته می‌شود؟  
پوشه .git حاوی تمامی اطلاعات و داده‌های ضروری از جمله آدرس مخازن ریموت، تاریخچه کامیت‌ها و غیره برای پروژه شماست. بدین ترتیب که برای clone کردن پروژه تنها کافیست این فولدر را کپی کنید. همانطور که اشاره شد، درون این فایل اطلاعاتی از جمله لاگ‌ها، object database ها، فایل‌های configuration و اطلاعات شاخه‌ها و تگ‌ها قرار دارد. با دستور git init می‌توان این پوشه را ساخت.

۲. منظور از atomic بودن در atomic commit و atomic pull-request چیست؟  
مفهوم اتمیک بودن تغییرات به طور کلی به معنی غیرقابل تقسیم و کامل بودن آنهاست. در ارتباط با کامیت‌ها، اتمیک بودن به معنی پرهیز از تغییرات بزرگ و به نوعی چندین تغییر منطقی در یک کامیت است. پروژه توسعه داده شده در این مخزن را در نظر بگیرید، کامیتی که در آن هم ارور نخوردن در هنگام ورودی خالی و هم اضافه شدن کاراکترهای خاص (علامت تعجب) لحاظ شود، یک کامیت غیر اتمیک به حساب می‌آید. در رابطه با pull-request، همین معنی کامل و غیرقابل تقسیم بودن را در تصویر بزرگتری خواهیم داشت. بدین ترتیب، یک pull-request باید برای یک و تنها یک هدف خاص ایحاد شود. برای مثال هم feature و هم bug fix را در یک ادغام نداشته باشیم.

۳. تفاوت دستورهای fetch و pull و merge و rebase را بیان کنید.  
دستور git fetch مخزن لوکال را با ریموت یکسان می‌کند، بدین ترتیب یوزر تغییر لحاظ شده در مخزن ریموت را در سیستم خود خواهد داشت، بدون لحاظ کردن تغییرات بر روی کدهای لوکال وی. با git merge می‌توان تغییرات یک شاخه را با شاخه دیگر ادغام کرد. git pull ترکیب دو دستور قبلی است که اول fetch و بعد merge شاخه ریموت با لوکال را انجام می‌دهد. در git rebase، تاریخچه کامیت‌های یک شاخه برای شاخه دیگر کپی خواهد شد در نتیجه کامیت‌های شاخه هدف با شاخه مبدا یکسان می‌شود.

۴. تفاوت سه دستور reset و revert و restore را بیان کنید.  
دستور git reset پوینتر شاخه را به کامیت دلخواه عوض می‌کند و می‌تواند تاریخچه کامیت‌های بعد پوینتر را پاک کند. در مقابل، git revert تغییرات یک کامیت یا بازه‌ای از کامیت‌ها را با ایجاد کامیتی جدید برمی‌گرداند و امکان تغییر تاریخچه کامیت‌ها را ندارد. git restore تنها فایل هدف را به حالت قبلی برمی‌گرداند بدون اینکه کامیت جدیدی اضافه کرده یا کامیت‌های قبلی را با تغییر هد شاخه حذف کند.

۵. منظور از stage چیست؟ دستور stash چه کاری را انجام می‌دهد؟  
مفهوم staging بین مخزن گیت و محیط کد کاربر قرار می‌گیرد. با stage کردن تغییرات به گیت می‌گوییم که در کامیت بعدی چه فایل‌های را لحاظ کند. می‌دانیم برای تغییر شاخه باید تغییرات اعمال شده در شاخه حال حاضر را کامیت کنیم. با استفاده از دستور git stash می‌توان این تغییرات را بدون احتیاج به کامیت ذخیره و عمل تغییر شاخه را انجام داد.

۶. مفهوم snapshot به چه معناست؟  
این مفهوم به یک تصویر از کل پروژه در یک زمان مشخص اشاره دارد. در زمان کامیت کردن تغییرات، گیت تغییرات فایل‌های modify شده را دنبال نمی‌کند، بلکه یک snapshot از کل پروژه در زمان کامیت ایجاد می‌کند. این snapshot ها در فولدر .git ذخیره می‌شوند که کل ایده و اساس یک version control مثل گیت را در بردارند.
